{"ast":null,"code":"var _jsxFileName = \"/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/login-register-page/Login.js\";\nimport React from 'react';\nimport Tools from '../../tools/Tools';\nimport './LoginRegister.css';\nimport Button from \"../../components/button/Button\";\n\nconst Login = () => {\n  let user = {\n    username: '',\n    password: ''\n  };\n\n  const loginInformationChange = e => {\n    const type = e.target.getAttribute('data-id');\n    user[type] = e.target.value;\n  };\n\n  const login = () => {\n    console.log('user login');\n    fetch('http://localhost:8080/TrainTickets/login', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: Tools.toPostPara(user)\n    }).then(res => res.json()).then(json => {\n      if (json.statusCode === '1000') {\n        window.user = JSON.parse(json);\n        window.location.href = '#/train';\n      } else if (json.statusCode === '1001') {\n        alert('您被限制购票');\n      } else {\n        alert('您输入的账号密码不正确');\n      }\n    });\n  };\n\n  const goRegister = () => {\n    window.location.href = '#/register';\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \" \\u6570\\u636E\\u5E93\\u8BFE\\u8BBE-12307\\u706B\\u8F66\\u552E\\u7968-\\u767B\\u5F55 \"), React.createElement(\"input\", {\n    className: \"login-input\",\n    placeholder: \"\\u7528\\u6237\\u540D\",\n    \"data-id\": \"username\",\n    onChange: loginInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"login-input\",\n    placeholder: \"\\u5BC6\\u7801\",\n    \"data-id\": \"password\",\n    onChange: loginInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Button, {\n    class: 'login-button',\n    onClick: login,\n    text: '登录',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"go-register\",\n    onClick: goRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \" \\u70B9\\u51FB\\u6B64\\u5904\\u6CE8\\u518C\\u65B0\\u7528\\u6237 \"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/login-register-page/Login.js"],"names":["React","Tools","Button","Login","user","username","password","loginInformationChange","e","type","target","getAttribute","value","login","console","log","fetch","method","mode","headers","body","toPostPara","then","res","json","statusCode","window","JSON","parse","location","href","alert","goRegister"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAO,qBAAP;AACA,OAAOC,MAAP,MAAmB,gCAAnB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,MAAIC,IAAI,GAAG;AACTC,IAAAA,QAAQ,EAAE,EADD;AAETC,IAAAA,QAAQ,EAAE;AAFD,GAAX;;AAKA,QAAMC,sBAAsB,GAAIC,CAAD,IAAO;AACpC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,SAAtB,CAAb;AACAP,IAAAA,IAAI,CAACK,IAAD,CAAJ,GAAaD,CAAC,CAACE,MAAF,CAASE,KAAtB;AACD,GAHD;;AAKA,QAAMC,KAAK,GAAG,MAAM;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,IAAAA,KAAK,CAAC,0CAAD,EAA4C;AAC/CC,MAAAA,MAAM,EAAC,MADwC;AAE/CC,MAAAA,IAAI,EAAE,MAFyC;AAG/CC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHsC;AAM/CC,MAAAA,IAAI,EAAEnB,KAAK,CAACoB,UAAN,CAAiBjB,IAAjB;AANyC,KAA5C,CAAL,CAQGkB,IARH,CAQQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EARb,EASGF,IATH,CASQE,IAAI,IAAI;AACZ,UAAIA,IAAI,CAACC,UAAL,KAAoB,MAAxB,EAAgC;AAC9BC,QAAAA,MAAM,CAACtB,IAAP,GAAcuB,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAd;AACAE,QAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACD,OAHD,MAGO,IAAIN,IAAI,CAACC,UAAL,KAAoB,MAAxB,EAAgC;AACrCM,QAAAA,KAAK,CAAC,QAAD,CAAL;AACD,OAFM,MAEA;AACLA,QAAAA,KAAK,CAAC,aAAD,CAAL;AACD;AACF,KAlBH;AAmBD,GArBD;;AAuBA,QAAMC,UAAU,GAAG,MAAM;AACvBN,IAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFADF,EAEE;AAAO,IAAA,SAAS,EAAC,aAAjB;AAA+B,IAAA,WAAW,EAAC,oBAA3C;AAAiD,eAAQ,UAAzD;AAAoE,IAAA,QAAQ,EAAEvB,sBAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAO,IAAA,SAAS,EAAC,aAAjB;AAA+B,IAAA,WAAW,EAAC,cAA3C;AAAgD,eAAQ,UAAxD;AAAmE,IAAA,QAAQ,EAAEA,sBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE,cAAf;AAA+B,IAAA,OAAO,EAAEM,KAAxC;AAA+C,IAAA,IAAI,EAAE,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAK,IAAA,SAAS,EAAC,aAAf;AAA6B,IAAA,OAAO,EAAEmB,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEALF,CADF;AASD,CA/CD;;AAiDA,eAAe7B,KAAf","sourcesContent":["import React from 'react';\nimport Tools from '../../tools/Tools'\nimport './LoginRegister.css'\nimport Button from \"../../components/button/Button\";\n\nconst Login = () => {\n  let user = {\n    username: '',\n    password: ''\n  };\n  \n  const loginInformationChange = (e) => {\n    const type = e.target.getAttribute('data-id');\n    user[type] = e.target.value;\n  };\n  \n  const login = () => {\n    console.log('user login');\n    fetch('http://localhost:8080/TrainTickets/login',{\n      method:'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: Tools.toPostPara(user)\n    })\n      .then(res=>res.json())\n      .then(json => {\n        if (json.statusCode === '1000') {\n          window.user = JSON.parse(json);\n          window.location.href = '#/train';\n        } else if (json.statusCode === '1001') {\n          alert('您被限制购票');\n        } else {\n          alert('您输入的账号密码不正确')\n        }\n      })\n  };\n  \n  const goRegister = () => {\n    window.location.href = '#/register'\n  };\n  \n  return (\n    <div className='login'>\n      <div className='login-title'> 数据库课设-12307火车售票-登录 </div>\n      <input className='login-input' placeholder='用户名' data-id='username' onChange={loginInformationChange}/>\n      <input className='login-input' placeholder='密码' data-id='password' onChange={loginInformationChange}/>\n      <Button class={'login-button'} onClick={login} text={'登录'}/>\n      <div className='go-register' onClick={goRegister}> 点击此处注册新用户 </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}