{"ast":null,"code":"var _jsxFileName = \"/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/train-page/city-select/CitySelect.js\";\nimport React from 'react';\nimport './CitySelect.css';\nimport Button from '../../../components/button/Button';\nimport Tools from \"../../../tools/Tools\";\n\nclass CitySelect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fromChange = e => {\n      this.fromSelect = e.target.value;\n    };\n\n    this.toChange = e => {\n      this.toSelect = e.target.value;\n    };\n\n    this.dateChange = e => {\n      this.dateSelect = e.target.value;\n    };\n\n    this.queryTrain = () => {\n      const para = {\n        fromCity: this.city[this.fromSelect],\n        toCity: this.city[this.toSelect],\n        date: this.date[this.dateSelect]\n      };\n      this.props.setTrainList([]);\n      fetch('http://localhost:8080/TrainTickets/getTrainByStop', {\n        method: 'post',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: Tools.toPostPara(para)\n      }).then(res => res.json()).then(json => {\n        if (json.statusCode === '1000') {\n          this.props.setTrainList(JSON.parse(json.content), this.date[this.dateSelect]);\n          console.log(JSON.parse(json.content));\n        } else {\n          alert('出错啦');\n        }\n      });\n    };\n\n    this.queryTrainTransfer = () => {\n      const para = {\n        fromCity: this.city[this.fromSelect],\n        toCity: this.city[this.toSelect],\n        date: this.date[this.dateSelect]\n      };\n      this.props.setTrainList([]);\n      fetch('http://localhost:8080/TrainTickets/getTrainByStop', {\n        method: 'post',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: Tools.toPostPara(para)\n      }).then(res => res.json()).then(json => {\n        if (json.statusCode === '1000') {\n          this.props.setTrainList(JSON.parse(json.content), this.date[this.dateSelect]);\n          console.log(JSON.parse(json.content));\n        } else {\n          alert('出错啦');\n        }\n      });\n    };\n\n    this.city = ['沈阳', '济南', '深圳', '北京', '上海', '广州', '长春'];\n    this.date = ['2019-01-01', '2019-01-02', '2019-01-03'];\n    this.fromSelect = 0;\n    this.toSelect = 0;\n    this.dateSelect = 0;\n    this.fromChange = this.fromChange.bind(this);\n    this.toChange = this.toChange.bind(this);\n    this.dateChange = this.dateChange.bind(this);\n    this.queryTrain = this.queryTrain.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"city-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"city-selector\",\n      defaultValue: \"0\",\n      onChange: this.fromChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" \", this.city[0], \" \"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \" \", this.city[1], \" \"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" \", this.city[2], \" \"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \" \", this.city[3], \" \"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \" \", this.city[4], \" \"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" \", this.city[5], \" \"), React.createElement(\"option\", {\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" \", this.city[6], \" \")), React.createElement(\"div\", {\n      className: \"city-selector-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \" \\u81F3 \"), React.createElement(\"select\", {\n      className: \"city-selector\",\n      defaultValue: \"0\",\n      onChange: this.toChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" \", this.city[0], \" \"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \" \", this.city[1], \" \"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" \", this.city[2], \" \"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" \", this.city[3], \" \"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" \", this.city[4], \" \"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \" \", this.city[5], \" \"), React.createElement(\"option\", {\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \" \", this.city[6], \" \")), React.createElement(\"select\", {\n      className: \"city-selector\",\n      defaultValue: \"0\",\n      onChange: this.dateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \" \", this.date[0], \" \"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" \", this.date[1], \" \"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \" \", this.date[2], \" \")), React.createElement(Button, {\n      class: 'train-tickets-button-default',\n      text: '查询',\n      onClick: this.queryTrain,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CitySelect;","map":{"version":3,"sources":["/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/train-page/city-select/CitySelect.js"],"names":["React","Button","Tools","CitySelect","Component","constructor","props","fromChange","e","fromSelect","target","value","toChange","toSelect","dateChange","dateSelect","queryTrain","para","fromCity","city","toCity","date","setTrainList","fetch","method","mode","headers","body","toPostPara","then","res","json","statusCode","JSON","parse","content","console","log","alert","queryTrainTransfer","bind","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './CitySelect.css';\nimport Button from '../../../components/button/Button';\nimport Tools from \"../../../tools/Tools\";\n\nclass CitySelect extends React.Component {\n  constructor (props) {\n    super(props);\n    this.city = ['沈阳', '济南', '深圳', '北京', '上海', '广州', '长春'];\n    this.date = ['2019-01-01', '2019-01-02', '2019-01-03'];\n    this.fromSelect = 0;\n    this.toSelect = 0;\n    this.dateSelect = 0;\n    this.fromChange = this.fromChange.bind(this);\n    this.toChange = this.toChange.bind(this);\n    this.dateChange = this.dateChange.bind(this);\n    this.queryTrain = this.queryTrain.bind(this);\n  }\n  \n  fromChange = (e) => {\n    this.fromSelect = e.target.value;\n  };\n  \n  toChange = (e) => {\n    this.toSelect = e.target.value;\n  };\n  \n  dateChange = (e) => {\n    this.dateSelect = e.target.value;\n  };\n  \n  queryTrain = () => {\n    const para = {\n      fromCity: this.city[this.fromSelect],\n      toCity: this.city[this.toSelect],\n      date: this.date[this.dateSelect]\n    };\n  \n    this.props.setTrainList([]);\n    \n    fetch('http://localhost:8080/TrainTickets/getTrainByStop',{\n      method:'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: Tools.toPostPara(para)\n    })\n      .then(res=>res.json())\n      .then(json => {\n        if (json.statusCode === '1000') {\n          this.props.setTrainList(JSON.parse(json.content), this.date[this.dateSelect]);\n          console.log(JSON.parse(json.content));\n        } else {\n          alert('出错啦');\n        }\n      });\n  };\n  \n  queryTrainTransfer = () => {\n    const para = {\n      fromCity: this.city[this.fromSelect],\n      toCity: this.city[this.toSelect],\n      date: this.date[this.dateSelect]\n    };\n    \n    this.props.setTrainList([]);\n    \n    fetch('http://localhost:8080/TrainTickets/getTrainByStop',{\n      method:'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: Tools.toPostPara(para)\n    })\n      .then(res=>res.json())\n      .then(json => {\n        if (json.statusCode === '1000') {\n          this.props.setTrainList(JSON.parse(json.content), this.date[this.dateSelect]);\n          console.log(JSON.parse(json.content));\n        } else {\n          alert('出错啦');\n        }\n      });\n  };\n  \n  render() {\n    return (\n      <div className='city-select'>\n        <select className='city-selector' defaultValue='0' onChange={this.fromChange}>\n          <option value ='0'> {this.city[0]} </option>\n          <option value ='1'> {this.city[1]} </option>\n          <option value ='2'> {this.city[2]} </option>\n          <option value ='3'> {this.city[3]} </option>\n          <option value ='4'> {this.city[4]} </option>\n          <option value ='5'> {this.city[5]} </option>\n          <option value ='6'> {this.city[6]} </option>\n        </select>\n        <div className='city-selector-content'> 至 </div>\n        <select className='city-selector' defaultValue='0' onChange={this.toChange}>\n          <option value ='0'> {this.city[0]} </option>\n          <option value ='1'> {this.city[1]} </option>\n          <option value ='2'> {this.city[2]} </option>\n          <option value ='3'> {this.city[3]} </option>\n          <option value ='4'> {this.city[4]} </option>\n          <option value ='5'> {this.city[5]} </option>\n          <option value ='6'> {this.city[6]} </option>\n        </select>\n        <select className='city-selector' defaultValue='0' onChange={this.dateChange}>\n          <option value ='0'> {this.date[0]} </option>\n          <option value ='1'> {this.date[1]} </option>\n          <option value ='2'> {this.date[2]} </option>\n        </select>\n        <Button class={'train-tickets-button-default'} text={'查询'} onClick={this.queryTrain}/>\n      </div>\n    );\n  }\n}\n\nexport default CitySelect;\n"]},"metadata":{},"sourceType":"module"}