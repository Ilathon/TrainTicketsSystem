{"ast":null,"code":"var _jsxFileName = \"/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/user-page/user-detail/UserDetail.js\";\nimport React from 'react';\nimport './UserDetail.css';\nimport Button from '../../../components/button/Button';\n\nfunction UserDetail() {\n  let user = {\n    username: '',\n    password: '',\n    telephone: '',\n    idcard: '',\n    status: '0'\n  };\n\n  function toPostPara(obj) {\n    let output = '';\n\n    for (const item in obj) {\n      output = output + item + '=' + obj[item] + '&';\n    }\n\n    return output.substring(0, output.length - 1);\n  }\n\n  function userInformationChange(e) {\n    const type = e.target.getAttribute('data-id');\n    user[type] = e.target.value;\n  }\n\n  function updateUser() {\n    console.log('update user');\n    fetch('http://localhost:8080/TrainTickets/updateUser', {\n      method: 'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: toPostPara(user)\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"user-input\",\n    placeholder: \"\\u7528\\u6237\\u540D\",\n    \"data-id\": \"username\",\n    onChange: userInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"user-input\",\n    placeholder: \"\\u5BC6\\u7801\",\n    \"data-id\": \"password\",\n    onChange: userInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"user-input\",\n    placeholder: \"\\u7535\\u8BDD\\u53F7\\u7801\",\n    \"data-id\": \"telephone\",\n    onChange: userInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"user-input\",\n    placeholder: \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\uFF08\\u4E0D\\u5E94\\u8BE5\\u4FEE\\u6539\\uFF09\",\n    \"data-id\": \"idcard\",\n    onChange: userInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"status-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"status-select-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \" \\u9009\\u62E9\\u7528\\u6237\\u72B6\\u6001\\uFF1A \"), React.createElement(\"select\", {\n    className: \"status-select-content\",\n    \"data-id\": \"status\",\n    defaultValue: \"\\u6B63\\u5E38\",\n    onChange: userInformationChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \" \\u6B63\\u5E38 \"), React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \" \\u9650\\u5236\\u8D2D\\u7968 \"))), React.createElement(Button, {\n    class: 'update-user',\n    text: '修改',\n    onClick: updateUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"tips\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \" \\u8FD9\\u91CC\\u7684\\u4FEE\\u6539\\u4EC5\\u4F5C\\u4E3A\\u529F\\u80FD\\u6F14\\u793A\\uFF0C\\u5B9E\\u9645\\u4E0A\\u5728\\u6B63\\u5F0F\\u7684\\u7CFB\\u7EDF\\u4E2D\\uFF0C\\u4E0D\\u5E94\\u8BE5\\u5BF9\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u548C\\u7528\\u6237\\u72B6\\u6001\\u8FDB\\u884C\\u66F4\\u6539 \"));\n}\n\nexport default UserDetail;","map":{"version":3,"sources":["/Users/zy/workspace-for-front-end/train-tickets-front-end/src/pages/user-page/user-detail/UserDetail.js"],"names":["React","Button","UserDetail","user","username","password","telephone","idcard","status","toPostPara","obj","output","item","substring","length","userInformationChange","e","type","target","getAttribute","value","updateUser","console","log","fetch","method","mode","headers","body","then","res","json"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './UserDetail.css';\nimport Button from '../../../components/button/Button';\n\nfunction UserDetail() {\n  let user = {\n    username: '',\n    password: '',\n    telephone: '',\n    idcard: '',\n    status: '0'\n  };\n  \n  function toPostPara(obj) {\n    let output = '';\n    for (const item in obj) {\n      output = output + item + '=' + obj[item] + '&'\n    }\n    return output.substring(0, output.length - 1);\n  }\n  \n  function userInformationChange(e) {\n    const type = e.target.getAttribute('data-id');\n    user[type] = e.target.value;\n  }\n  \n  function updateUser() {\n    console.log('update user');\n    fetch('http://localhost:8080/TrainTickets/updateUser',{\n      method:'post',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: toPostPara(user)\n    })\n      .then(res=>res.json())\n      .then(json=>{console.log(json)})\n  }\n  \n  return (\n    <div className='user'>\n      <input className='user-input' placeholder='用户名' data-id='username' onChange={userInformationChange}/>\n      <input className='user-input' placeholder='密码' data-id='password' onChange={userInformationChange}/>\n      <input className='user-input' placeholder='电话号码' data-id='telephone' onChange={userInformationChange}/>\n      <input className='user-input' placeholder='身份证号（不应该修改）' data-id='idcard' onChange={userInformationChange}/>\n      <div className='status-select'>\n        <div className='status-select-text'> 选择用户状态： </div>\n        <select className='status-select-content' data-id='status' defaultValue='正常' onChange={userInformationChange}>\n          <option value ='0'> 正常 </option>\n          <option value ='1'> 限制购票 </option>\n        </select>\n      </div>\n      <Button class={'update-user'} text={'修改'} onClick={updateUser}/>\n      <div className='tips'> 这里的修改仅作为功能演示，实际上在正式的系统中，不应该对身份证号和用户状态进行更改 </div>\n    </div>\n  );\n}\n\nexport default UserDetail;\n"]},"metadata":{},"sourceType":"module"}